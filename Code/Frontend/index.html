<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Stuff.</title>
<style type="text/css">
body {
	background-image: url(test_background.jpg);
	background-color: #000000;
	background-repeat:no-repeat;
	background-size:auto;
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
}
body,td,th {
	color: #FFFFFF;
}
</style>
<link href="style.css" rel="stylesheet" type="text/css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js" charset="utf-8"></script>
<script src="jquery.simpleWeather.js" charset="utf-8"></script>
<script type="text/javascript">
	
	$.simpleWeather({
		location:'keller, texas',
		unit: 'f',
		success:function(weather){
			var currentTemp = weather.temp + '&deg;' + weather.units.temp;
			$("#weatherCurrentTemp").html(currentTemp);
			
			var weather0 = '<font color="#FFAAAA" size="5">' + weather.forecast[0].high + '</font><br><font color="#AAAAFF" size="5">' + weather.forecast[0].low +'</font>';
			var weather1 = '<font color="#FFAAAA"><br><br>' + weather.forecast[1].high + '</font><br><font color="#AAAAFF">' + weather.forecast[1].low +'</font>';
			var weather2 = '<font color="#FFAAAA"><br><br>' + weather.forecast[2].high + '</font><br><font color="#AAAAFF">' + weather.forecast[2].low +'</font>';
			var weather3 = '<font color="#FFAAAA"><br><br>' + weather.forecast[3].high + '</font><br><font color="#AAAAFF">' + weather.forecast[3].low +'</font>';
			var weather4 = '<font color="#FFAAAA"><br><br>' + weather.forecast[4].high + '</font><br><font color="#AAAAFF">' + weather.forecast[4].low +'</font>';
			
			$("#firstImage").html(weather0);
			$("#secondImage").html(weather1);
			$("#thirdImage").html(weather2);
			$("#fourthImage").html(weather3);
			$("#fifthImage").html(weather4);
			
			var weatherImage0 = "url('" + weather.image + "')";
			var weatherImage1 = "url('" + weather.forecast[1].image + "')";
			var weatherImage2 = "url('" + weather.forecast[2].image + "')";
			var weatherImage3 = "url('" + weather.forecast[3].image + "')";
			var weatherImage4 = "url('" + weather.forecast[4].image + "')";
			
			document.getElementById("firstImage").style.backgroundImage = weatherImage0;
			document.getElementById("secondImage").style.backgroundImage = weatherImage1;
			document.getElementById("thirdImage").style.backgroundImage = weatherImage2;
			document.getElementById("fourthImage").style.backgroundImage = weatherImage3;
			document.getElementById("fifthImage").style.backgroundImage = weatherImage4;
			
			console.log('Weather: Passed!');
		},
		error:function(error){
			console.log("Weather: Bad things happened...");
		}		
	});
</script>
<script>
	<!-- Time Stuff -->
	<!-- START SECTION TO PARSE XML -->
	var userPref = new XMLHttpRequest();
	
	userPref.open("GET", "config.xml", true);
	userPref.send();
	
	<!-- This needs to be run on a webserver to work -->
	var xmlDoc = userPref.responseXML;
	<!-- var user = xmlDoc.getElementsByTagName("username")[0].childNodes[0].nodeValue; -->
	
	<!-- END PARSE XML SECTION -->
	
	var user = "Alan";
	console.log(user);
	function startTime()
	{
		var today = new Date();
		var h = today.getHours();
		var m = today.getMinutes();
		var dayOfTheWeek = today.getDay();
		var dayOfTheMonth = today.getDate();
		var thisMonth = today.getMonth();
		var actualDay, actualMonth;
		m = checkTime(m);
		
		switch (dayOfTheWeek)
		{
			case 0:
				actualDay = "Sunday";
				break;
			case 1:
				actualDay = "Monday";
				break;
			case 2:
				actualDay = "Tuesday";
				break;
			case 3:
				actualDay = "Wednesday";
				break;
			case 4:
				actualDay = "Thursday";
				break;
			case 5:
				actualDay = "Friday";
				break;
			case 6:
				actualDay = "Saturday";
				break;					
		}
		
		switch (thisMonth)
		{
			case 0:
				actualMonth = "January";
				break;
			case 1:
				actualMonth = "February";
				break;
			case 2:
				actualMonth = "March";
				break;
			case 3:
				actualMonth = "April";
				break;
			case 4:
				actualMonth = "May";
				break;
			case 5:
				actualMonth = "June";
				break;
			case 6:
				actualMonth = "July";
				break;
			case 7:
				actualMonth = "August";
				break;		
			case 8:
				actualMonth = "September";
				break;	
			case 9:
				actualMonth = "October";
				break;	
			case 10:
				actualMonth = "November";
				break;	
			case 11:
				actualMonth = "December";
				break;				
		}
		
		if (dayOfTheMonth == 1 || dayOfTheMonth == 21 || dayOfTheMonth == 31)
		{
			document.getElementById('weatherTitle').innerHTML = actualDay + ", " + actualMonth + " " + dayOfTheMonth + "st";
		}
		else if (dayOfTheMonth == 2 || dayOfTheMonth == 22)
		{
			document.getElementById('weatherTitle').innerHTML = actualDay + ", " + actualMonth + " " + dayOfTheMonth + "nd";
		}
		else if (dayOfTheMonth == 3 || dayOfTheMonth == 23)
		{
			document.getElementById('weatherTitle').innerHTML = actualDay + ", " + actualMonth + " " + dayOfTheMonth + "rd";
		}
		else
		{
			document.getElementById('weatherTitle').innerHTML = actualDay + ", " + actualMonth + " " + dayOfTheMonth + "th";
		}
		
		if (h > 12)
		{
			document.getElementById('time').innerHTML = (h - 12) + ":" + m + " PM";
			
			if ( h > 17)
			{
				document.getElementById('greeting').innerHTML = "Good Evening, " + user;
			}
			else
			{
				document.getElementById('greeting').innerHTML = "Good Afternoon, " + user;
			}
		}
		else
		{
			document.getElementById('time').innerHTML = h + ":" + m + " AM";
			
			if ( h > 7)
			{
				document.getElementById('greeting').innerHTML = "Good Morning, " + user;
			}
			else if (h > 4)
			{
				document.getElementById('greeting').innerHTML = "Early start, " + user + "?";
			}
			else if (h < 3)
			{
				document.getElementById('greeting').innerHTML = "Burning the midnight oil, " + user + "?";
			}
			else
			{
				document.getElementById('greeting').innerHTML = "Why are you still awake, " + user + "?";	
			}
		}
		var t = setTimeout(startTime, 500);
	}
	function checkTime(i)
	{
		if ( i < 10)
		{
			i = "0" + i;	
		}
		return i;
	}
</script>
</head>

<body onload="startTime()">

<div class="rssfeed" id="rssfeed">RSS FEED</div>
<div class="weather">
	<div class="weatherTitle" id="weatherTitle">WEATHER</div>
    <div class="weatherImages">
    	<div id="firstImage"><font color="#FFAAAA" size="5">00</font><br><font color="#AAAAFF" size="5">00</font></div>
        <div id="secondImage"><font color="#FFAAAA"><br><br>00</font><br><font color="#AAAAFF">00</font></div>
        <div id="thirdImage"><font color="#FFAAAA"><br><br>00</font><br><font color="#AAAAFF">00</font></div>
        <div id="fourthImage"><font color="#FFAAAA"><br><br>00</font><br><font color="#AAAAFF">00</font></div>
        <div id="fifthImage"><font color="#FFAAAA"><br><br>00</font><br><font color="#AAAAFF">00</font></div>
    <!--
  		<img src="placeholder.png" width="120px" height="120px">
    	<img src="placeholder.png" width="80px" height="80px">
   		<img src="placeholder.png" width="80px" height="80px">
    	<img src="placeholder.png" width="80px" height="80px">
    	<img src="placeholder.png" width="80px" height="80px">
    -->
    </div>
    <div class="weatherCurrentTemp" id="weatherCurrentTemp">000F</div>
</div>
<div class="time" id="time">TIME</div>
<div class="greeting" id="greeting">GREETING</div>
<div class="music">Maybe a music player</div>
</body>
</html>
